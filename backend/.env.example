# ===========================================
# SUPABASE DATABASE CONFIGURATION
# ===========================================
# Get these values from your Supabase project:
# 1. Go to https://supabase.com and create a project
# 2. Go to Settings > Database
# 3. Copy the Connection String (URI)

# Supabase Database URL (Transaction/Session Pooler recommended for Prisma)
# Format: postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres
DATABASE_URL="postgresql://postgres.[YOUR_PROJECT_REF]:[YOUR_PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres?pgbouncer=true"

# Direct connection for migrations (without pooler)
DIRECT_URL="postgresql://postgres.[YOUR_PROJECT_REF]:[YOUR_PASSWORD]@aws-0-[REGION].pooler.supabase.com:5432/postgres"

# ===========================================
# JWT CONFIGURATION (REQUIRED!)
# ===========================================
# IMPORTANT: Generate a strong, unique secret for production
# You can use: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET="CHANGE_THIS_TO_A_SECURE_RANDOM_STRING_IN_PRODUCTION"
ACCESS_TOKEN_EXPIRY="15m"
REFRESH_TOKEN_EXPIRY="7d"

# ===========================================
# SERVER CONFIGURATION
# ===========================================
PORT=3000
NODE_ENV=development

# ===========================================
# CORS CONFIGURATION
# ===========================================
# Comma-separated list of allowed origins for production
# Example: ALLOWED_ORIGINS=https://myapp.com,https://admin.myapp.com
ALLOWED_ORIGINS="http://localhost:3000,http://localhost:3001"

# ===========================================
# SUPABASE API (Required for file storage)
# ===========================================
SUPABASE_URL="https://[YOUR_PROJECT_REF].supabase.co"
# SUPABASE_ANON_KEY="your-anon-key"
# SUPABASE_SERVICE_ROLE_KEY="your-service-role-key"

# ===========================================
# REDIS CONFIGURATION (Required for caching & queues)
# ===========================================
# For local development: Use default localhost
# For production: Use Redis Cloud, AWS ElastiCache, or self-hosted
REDIS_HOST="localhost"
REDIS_PORT=6379
REDIS_PASSWORD=""

# ===========================================
# PAYMENT GATEWAY - MIDTRANS
# ===========================================
# Get API keys from: https://dashboard.midtrans.com
MIDTRANS_SERVER_KEY="your-server-key"
MIDTRANS_CLIENT_KEY="your-client-key"
MIDTRANS_IS_PRODUCTION=false

# ===========================================
# MAPS & ROUTING SERVICE
# ===========================================
# OSRM (Free - Default)
# Use public server or self-host: https://github.com/Project-OSRM/osrm-backend
OSRM_BASE_URL="https://router.project-osrm.org"

# Mapbox (Paid - More accurate)
# Get token from: https://account.mapbox.com
MAPBOX_ACCESS_TOKEN=""

# ===========================================
# FIREBASE CLOUD MESSAGING (Push Notifications)
# ===========================================
# Download service account JSON from Firebase Console
# and place it in the project root, then provide the path
FIREBASE_SERVICE_ACCOUNT_PATH="./firebase-service-account.json"

# ===========================================
# FRONTEND URL (For payment callbacks)
# ===========================================
FRONTEND_URL="http://localhost:3001"

# ===========================================
# EMAIL SERVICE (Optional - for future implementation)
# ===========================================
# SMTP_HOST="smtp.gmail.com"
# SMTP_PORT=587
# SMTP_USER="your-email@gmail.com"
# SMTP_PASSWORD="your-app-password"
# EMAIL_FROM="noreply@yourapp.com"
